import random
import pandas as pd

# –ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö –∏–∑ —Ñ–∞–π–ª–∞ Excel
df = pd.read_excel('dish.xlsx')

# –ü—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –≤ —Å–ª–æ–≤–∞—Ä—å
recipes = {}
for index, row in df.iterrows():
    dish = row['–ë–ª—é–¥–æ']
    ingredients = row['–ò–Ω–≥—Ä–µ–¥–∏–µ–Ω—Ç—ã'].split(',')  # –ü—Ä–µ–¥–ø–æ–ª–∞–≥–∞–µ—Ç—Å—è, —á—Ç–æ –∏–Ω–≥—Ä–µ–¥–∏–µ–Ω—Ç—ã —Ä–∞–∑–¥–µ–ª–µ–Ω—ã –∑–∞–ø—è—Ç—ã–º–∏
    recipes[dish] = [ingredient.strip() for ingredient in ingredients]

def q(b: list) -> str:
    a = []

    for dish, ingredients in recipes.items():
        if all(ingredient in b for ingredient in ingredients):
            a.append(dish)

    if a:
        return random.choice(a)
    else:
        return "–ù–∏—á–µ–≥–æ –Ω–µ –Ω–∞–π–¥–µ–Ω–æ. –í–∏–¥–∏–º–æ, —Å–µ–≥–æ–¥–Ω—è –≥–æ–ª–æ–¥–∞–µ—à—å. –ò–ª–∏ —Å—Ö–æ–¥–∏ –≤ –º–∞–≥–∞–∑–∏–Ω. üõí"

b = input("–í–≤–µ–¥–∏ –∏–Ω–≥—Ä–µ–¥–∏–µ–Ω—Ç—ã —á–µ—Ä–µ–∑ –∑–∞–ø—è—Ç—É—é (–Ω–∞–ø—Ä–∏–º–µ—Ä: —è–π—Ü–∞, —Ö–ª–µ–±, —Å—ã—Ä): ").lower().split(', ')
b = [ingredient.strip() for ingredient in b]

result = q(b)
print(f"\n=== –†–µ–∑—É–ª—å—Ç–∞—Ç ===")
print(f"–ò–∑ {', '.join(b)} –º–æ–∂–Ω–æ –ø—Ä–∏–≥–æ—Ç–æ–≤–∏—Ç—å: {result}")

if result == "–ù–∏—á–µ–≥–æ –Ω–µ –Ω–∞–π–¥–µ–Ω–æ.":
    print("–°–æ–≤–µ—Ç: –ø–æ–ø—Ä–æ–±—É–π –∑–∞–∫–∞–∑–∞—Ç—å –¥–æ—Å—Ç–∞–≤–∫—É. –ò–ª–∏ —Å–º–∏—Ä–∏—Å—å —Å –≥–æ–ª–æ–¥–æ–º")
elif result == "–ö–æ—Ñ–µ":
    print("–ü–æ–∑–¥—Ä–∞–≤–ª—è—é, —Ç—ã –¥–æ—Å—Ç–∏–≥ –¥–Ω–∞ –∫—É–ª–∏–Ω–∞—Ä–∏–∏")
